<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset = "UTF-8" >
        <meta http-equiv="X-UA-Compatible" >
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/36bed4b74a.js" crossorigin="anonymous"></script>
        <title>Student Login</title>
        <link rel="shortcut icon" type="png" href="../images/icon/logo.png">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" href="../css/student_login.css">
    </head>
    <body >
         <!-- Header -->
    <header id="header">
        <nav>
          <div class="logo"><img src="../images/icon/logo.png" alt="logo" /></div>
          <ul>
            <li><a href="#quote">Home</a></li>
            <li><a href="#services_section">Services</a></li>
            <li><a href="#contactus_section">Contact</a></li>
            <li><a href="#contactus_section">About Us</a></li>
          </ul>
  
        </nav>
      </header>
        <div class = "container">
            <div class="logo"><a href="../html/index.html"><img src="../images/icon/logo_full.png" alt="logo"></a></div>
            <div class="forms-container">
                <div class="signin-signup">
                    <form action="" class="sign-in-form form" id = "sign-in-form">
                        <h2 class="title">Sign In</h2>
                        <div class="input-field">
                            <i class="fa fa-building"></i>
                            <select name="CollegeName" id="CollegeName"  required>
                                <option disabled value="" selected hidden>Select College</option>
                            </select>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-id-card"></i>
                            <input type="usn" placeholder="USN" id="Newusn" required>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-lock"></i>
                            <input type="password" class="" placeholder="Password" id="Password" required>
                        </div>
                        <div class="teachlog"><a href="../html/teacher_login.html">Not a Student?</a></div>
                        <input type="submit" id="Login" value="Login" class="btn solid" onclick="SignIn();">
                        <div class="WrongPass" ><h3 id="WrongPass"></h3></div>
                    </form>
                    
                    <form action="" class="sign-up-form form">
                        <h2 class="title">Sign Up</h2>
                        <div class="input-field">
                            <i class="fa fa-building"></i>
                            <select name="CollegeName" id="CollegeName"  required>
                                <option disabled value="" selected hidden>Select College</option>
                            </select>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-user"></i>
                            <input type="name" placeholder="Name" id="Newname" required>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-envelope"></i>
                            <input type="email" placeholder="Email" id="NewEmail" required>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-id-card"></i>
                            <input type="usn" placeholder="USN" id="Newusn" required>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-lock"></i>
                            <input type="password" placeholder="Password" id="NewPass" required>
                        </div>
                        <div class="input-field">
                            <i class="fa fa-lock"></i>
                            <input type="password" placeholder="Confirm Password"id="ConfiPass" required>
                        </div>
                        <div class="teachlog"><a href="../html/teacher_login.html">Not a Student?</a></div>
                        <input type="submit" value="Sign up" class="btn solid" id="SignUpBtn">
                    
                    </form>
                </div>
            </div>
            <div class="panels-container">
                    <div class="panel left-panel">
                        <div class="content">
                            <h3>New here?</h3>
                            <button class="btn transparent" id="sign-up-button">Sign Up</button>
                        </div>

                        <img src="../images/signup.png" class ="image" alt="">
                    </div>

                    <div class="panel right-panel">
                        <div class="content">
                            <h3>One of us?</h3>
                            <button class="btn transparent" id="sign-in-button">Sign In</button>
                        </div>

                        <img src="../images/login.png" class ="image" alt="" id="loginimg">
                    </div>
                </div>
            </div>
        </div>
        <script src="../js/login.js"></script>
        <script src="../js/script.js"></script>
        <script>
            var login_bttn = document.getElementById("Login");
            const WrongPass = document.getElementById("WrongPass");
            login_bttn.addEventListener("click", ()=>{
            var User = document.getElementById("HospitalName").value;
            let HospitalIndex = Hospital[User][1];
            var Password = document.getElementById("Password");
            var Pass = Password.value;
            var ReqPass = Hospital[User][0];
            if (Pass == ReqPass) {
                setCookie("User",HospitalIndex,1);//Cokie name "User" with hospital index with 1 day expiry
                window.location.href="{{url_for('welcome')}}";

            }
            else{
                // Password giggle animation
                Password.classList.add("wrong");
                window.setTimeout(() => {
                    Password.classList.remove("wrong");
                }, 1000);
                //Wrong Password Display
                WrongPass.innerHTML="Wrong Password";
                }
            });
            function myfunction() {
                const NewhosName = document.getElementById("NewhosName").value;
                const NewEmail = document.getElementById("NewEmail").value;
                const NewPass = document.getElementById("NewPass").value;
                const ConfiPass = document.getElementById("ConfiPass").value;

                if (ConfiPass != NewPass) {
                    return;
                }

                const dict_values = {NewhosName, NewEmail,NewPass} //Pass the javascript variables to a dictionary.
                const s = JSON.stringify(dict_values); // Stringify converts a JavaScript object or value to a JSON string
                $.ajax({
                    url:"/SignUp",
                    type:"POST",
                    contentType: "application/json",
                    data: JSON.stringify(s)});
                    window.location.href-"{{url_for('index')}}"
            }
        </script>
        <footer>
            <div class="footer-container">
              <div class="left-col">
                <h1 class="footer_header">Contact Us</h1>
                <p><i class="fa-solid fa-phone"></i> +91-123456785</p>
                <p><i class="fa-solid fa-envelope"></i> expamle@gmail.com</p>
                <p>
                  <i class="fa-solid fa-location-dot"></i> Dayananda Sagar College of
                  Engineering <br />Bangalore, Karnataka-560078
                </p>
              </div>
              <div class="mid-col">
                <h1 class="footer_header">Quick Links</h1>
                <div class="links">
                  <p><a href="">Home</a></p>
                  <p><a href="">Log in</a></p>
                  <p><a href="">About us</a></p>
                </div>
              </div>
              <div class="right-col">
                <h1 class="footer_header">Our Newsletter</h1>
                <div class="border"></div>
                <br />
                <p>Enter Your Email to get our News and updates.</p>
                <form class="newsletter-form">
                  <input class="txtb" type="email" placeholder="Enter Your Email" />
                  <input class="btn" type="submit" value="Submit" />
                </form>
              </div>
            </div>
          </footer>
    </body>
</html>
